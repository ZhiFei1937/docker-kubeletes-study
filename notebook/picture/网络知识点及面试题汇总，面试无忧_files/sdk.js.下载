var Slardar=function(){"use strict";var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function e(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var m=function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function n(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function f(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(e,t){return e(t={exports:{}},t.exports),t.exports}function i(e){return e&&e.Math==Math&&e}function a(e){try{return!!e()}catch(e){return!0}}function s(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function l(e){return E.call(e).slice(8,-1)}function y(e){if(null==e)throw TypeError("Can't call method on "+e);return e}function c(e){return P(y(e))}function u(e){return"object"==typeof e?null!==e:"function"==typeof e}function p(e,t){if(!u(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!u(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!u(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!u(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}function d(e,t){return x.call(e,t)}function h(e){if(!u(e))throw TypeError(String(e)+" is not an object");return e}function v(t,n){try{O(_,t,n)}catch(e){_[t]=n}return n}var _=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t&&t)||Function("return this")(),g=!a(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),w={}.propertyIsEnumerable,b=Object.getOwnPropertyDescriptor,S={f:b&&!w.call({1:2},1)?function(e){var t=b(this,e);return!!t&&t.enumerable}:w},E={}.toString,M="".split,P=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==l(e)?M.call(e,""):Object(e)}:Object,x={}.hasOwnProperty,H=_.document,C=u(H)&&u(H.createElement),R=!g&&!a(function(){return 7!=Object.defineProperty(C?H.createElement("div"):{},"a",{get:function(){return 7}}).a}),j=Object.getOwnPropertyDescriptor,L={f:g?j:function(e,t){if(e=c(e),t=p(t,!0),R)try{return j(e,t)}catch(e){}if(d(e,t))return s(!S.f.call(e,t),e[t])}},k=Object.defineProperty,T={f:g?k:function(e,t,n){if(h(e),t=p(t,!0),h(n),R)try{return k(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},O=g?function(e,t,n){return T.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e},A="__core-js_shared__",U=_[A]||v(A,{}),D=Function.toString;"function"!=typeof U.inspectSource&&(U.inspectSource=function(e){return D.call(e)});function q(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++W+V).toString(36)}var I,F,B,J,N=U.inspectSource,z=_.WeakMap,Q="function"==typeof z&&/native code/.test(N(z)),X=o(function(e){(e.exports=function(e,t){return U[e]||(U[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})}),W=0,V=Math.random(),G=X("keys"),$={},Y=_.WeakMap;if(Q){var K=new Y,Z=K.get,ee=K.has,te=K.set;I=function(e,t){return te.call(K,e,t),t},F=function(e){return Z.call(K,e)||{}},B=function(e){return ee.call(K,e)}}else{var ne=G[J="state"]||(G[J]=q(J));$[ne]=!0,I=function(e,t){return O(e,ne,t),t},F=function(e){return d(e,ne)?e[ne]:{}},B=function(e){return d(e,ne)}}function re(e){return"function"==typeof e?e:void 0}function oe(e){return isNaN(e=+e)?0:(0<e?ye:we)(e)}function ie(e){return 0<e?be(oe(e),9007199254740991):0}function ae(u){return function(e,t,n){var r,o,i,a=c(e),s=ie(a.length),l=(r=s,(o=oe(n))<0?Se(o+r,0):Ee(o,r));if(u&&t!=t){for(;l<s;)if((i=a[l++])!=i)return!0}else for(;l<s;l++)if((u||l in a)&&a[l]===t)return u||l||0;return!u&&-1}}function se(e,t){for(var n=Ce(t),r=T.f,o=L.f,i=0;i<n.length;i++){var a=n[i];d(e,a)||r(e,a,o(t,a))}}function le(e,t){var n=Le[je(e)];return n==Te||n!=ke&&("function"==typeof t?a(t):!!t)}function ue(r,o,e){if(!function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function")}(r),void 0===o)return r;switch(e){case 0:return function(){return r.call(o)};case 1:return function(e){return r.call(o,e)};case 2:return function(e,t){return r.call(o,e,t)};case 3:return function(e,t,n){return r.call(o,e,t,n)}}return function(){return r.apply(o,arguments)}}function ce(e,t){var n;return Ue(e)&&("function"==typeof(n=e.constructor)&&(n===Array||Ue(n.prototype))||u(n)&&null===(n=n[Je]))&&(n=void 0),new(void 0===n?Array:n)(0===t?0:t)}function pe(f){var h=1==f,v=2==f,m=3==f,_=4==f,g=6==f,w=5==f||g;return function(e,t,n,r){for(var o,i,a=Object(y(e)),s=P(a),l=ue(t,n,3),u=ie(s.length),c=0,p=r||ce,d=h?p(e,u):v?p(e,0):void 0;c<u;c++)if((w||c in s)&&(i=l(o=s[c],c,a),f))if(h)d[c]=i;else if(i)switch(f){case 3:return!0;case 5:return o;case 6:return c;case 2:Ne.call(d,o)}else if(_)return!1;return g?-1:m||_?_:d}}function de(e){throw e}var fe,he,ve,me={set:I,get:F,has:B,enforce:function(e){return B(e)?F(e):I(e,{})},getterFor:function(n){return function(e){var t;if(!u(e)||(t=F(e)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return t}}},_e=o(function(e){var t=me.get,s=me.enforce,l=String(String).split("String");(e.exports=function(e,t,n,r){var o=!!r&&!!r.unsafe,i=!!r&&!!r.enumerable,a=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof t||d(n,"name")||O(n,"name",t),s(n).source=l.join("string"==typeof t?t:"")),e!==_?(o?!a&&e[t]&&(i=!0):delete e[t],i?e[t]=n:O(e,t,n)):i?e[t]=n:v(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||N(this)})}),ge=_,we=Math.ceil,ye=Math.floor,be=Math.min,Se=Math.max,Ee=Math.min,Me={includes:ae(!0),indexOf:ae(!1)}.indexOf,Pe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),xe={f:Object.getOwnPropertyNames||function(e){return function(e,t){var n,r=c(e),o=0,i=[];for(n in r)!d($,n)&&d(r,n)&&i.push(n);for(;t.length>o;)d(r,n=t[o++])&&(~Me(i,n)||i.push(n));return i}(e,Pe)}},He={f:Object.getOwnPropertySymbols},Ce=function(e,t){return arguments.length<2?re(ge[e])||re(_[e]):ge[e]&&ge[e][t]||_[e]&&_[e][t]}("Reflect","ownKeys")||function(e){var t=xe.f(h(e)),n=He.f;return n?t.concat(n(e)):t},Re=/#|\.prototype\./,je=le.normalize=function(e){return String(e).replace(Re,".").toLowerCase()},Le=le.data={},ke=le.NATIVE="N",Te=le.POLYFILL="P",Oe=le,Ae=L.f,Ue=Array.isArray||function(e){return"Array"==l(e)},De=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())}),qe=De&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ie=X("wks"),Fe=_.Symbol,Be=qe?Fe:Fe&&Fe.withoutSetter||q,Je=(d(Ie,fe="species")||(De&&d(Fe,fe)?Ie[fe]=Fe[fe]:Ie[fe]=Be("Symbol."+fe)),Ie[fe]),Ne=[].push,ze={forEach:pe(0),map:pe(1),filter:pe(2),some:pe(3),every:pe(4),find:pe(5),findIndex:pe(6)},Qe=Object.defineProperty,Xe={},We=ze.forEach,Ve=!!(ve=[]["forEach"])&&a(function(){ve.call(null,he||function(){throw 1},1)}),Ge=function(e,t){if(d(Xe,e))return Xe[e];var n=[][e],r=!!d(t=t||{},"ACCESSORS")&&t.ACCESSORS,o=d(t,0)?t[0]:de,i=d(t,1)?t[1]:void 0;return Xe[e]=!!n&&!a(function(){if(r&&!g)return 1;var e={length:-1};r?Qe(e,1,{enumerable:!0,get:de}):e[1]=1,n.call(e,o,i)})}("forEach"),$e=Ve&&Ge?[].forEach:function(e,t){return We(this,e,1<arguments.length?t:void 0)};!function(e,t){var n,r,o,i,a,s=e.target,l=e.global,u=e.stat;if(n=l?_:u?_[s]||v(s,{}):(_[s]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(a=Ae(n,r))&&a.value:n[r],!Oe(l?r:s+(u?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;se(i,o)}(e.sham||o&&o.sham)&&O(i,"sham",!0),_e(n,r,i,e)}}({target:"Array",proto:!0,forced:[].forEach!=$e},{forEach:$e});var Ye=Function.call;ue(Ye,_.Array.prototype.forEach,void 0);!function(){if(!(window.URL&&window.URL.prototype&&"href"in window.URL.prototype)){e.prototype={toString:function(){return this.href},get href(){return this._anchorElement.href},set href(e){this._anchorElement.href=e},get protocol(){return this._anchorElement.protocol},set protocol(e){this._anchorElement.protocol=e},get host(){return this._anchorElement.host},set host(e){this._anchorElement.host=e},get hostname(){return this._anchorElement.hostname},set hostname(e){this._anchorElement.hostname=e},get port(){return this._anchorElement.port},set port(e){this._anchorElement.port=e},get pathname(){return this._anchorElement.pathname},set pathname(e){this._anchorElement.pathname=e},get search(){return this._anchorElement.search},set search(e){this._anchorElement.search=e},get hash(){return this._anchorElement.hash},set hash(e){this._anchorElement.hash=e}};var t=window.URL||window.webkitURL||window.mozURL;e.createObjectURL=function(e){return t.createObjectURL(e)},e.revokeObjectURL=function(e){return t.revokeObjectURL(e)},Object.defineProperty(e.prototype,"toString",{enumerable:!1}),window.URL=e}function e(e,t){if(!e)throw new TypeError("Invalid argument");var n=document.implementation.createHTMLDocument("");if(t){var r=n.createElement("base");r.href=t,n.head.appendChild(r)}var o=n.createElement("a");if(o.href=e,n.body.appendChild(o),":"===o.protocol||!/:/.test(o.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:o})}}(),function(){if(!Element.prototype.addEventListener){var a=[],e=function(e,t){function n(e){e.target=e.srcElement,e.currentTarget=r,void 0!==t.handleEvent?t.handleEvent(e):t.call(r,e)}var r=this;if("DOMContentLoaded"===e){var o=function(e){"complete"===document.readyState&&n(e)};if(document.attachEvent("onreadystatechange",o),a.push({object:this,type:e,listener:t,wrapper:o}),"complete"===document.readyState){var i=new Event;i.srcElement=window,o(i)}}else this.attachEvent("on"+e,n),a.push({object:this,type:e,listener:t,wrapper:n})},t=function(e,t){for(var n=0;n<a.length;){var r=a[n];if(r.object===this&&r.type===e&&r.listener===t){"DOMContentLoaded"===e?this.detachEvent("onreadystatechange",r.wrapper):this.detachEvent("on"+e,r.wrapper),a.splice(n,1);break}++n}};Element.prototype.addEventListener=e,Element.prototype.removeEventListener=t,HTMLDocument&&!HTMLDocument.prototype.addEventListener&&(HTMLDocument.prototype.addEventListener=e,HTMLDocument.prototype.removeEventListener=t),Window&&!Window.prototype.addEventListener&&(Window.prototype.addEventListener=e,Window.prototype.removeEventListener=t)}}();var Ke=(Ze.prototype._send=function(e){return e},Ze.prototype.setupTransport=function(e){var t=this;this._transport=e,this._sendQueue.forEach(function(e){t._sendEvent(e)}),this._sendQueue=[]},Ze);function Ze(e){var n=this;this._sendEvent=function(e){if(n._transport){var t=n._modifyEvent(e);n._shouldSend(t)&&n._idleSendEvent(t)}else n._sendQueue.push(e)},this._modifyEvent=function(e){return e},this._shouldSend=function(e){return!0},this._idleSendEvent=function(e){n._send(e)},this._options=e||{},this._sendQueue=[]}function et(e){return"object"==typeof e&&null!==e&&!rt(e)}function tt(e){return"function"==typeof e}function nt(e){return"[object String]"===Object.prototype.toString.call(e)}function rt(e){return"[object Array]"===Object.prototype.toString.call(e)}function ot(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function it(e,t){var n,r;if(void 0===e.length)for(n in e)ot(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;n<r;n++)t.call(null,n,e[n])}function at(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},r=0;r<e.length;)n=st(n,e[r]),r++;return n}function st(e,t){var n=m({},e);for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&void 0!==t[r]&&(et(e[r])&&et(t[r])?n[r]=st(e[r],t[r]):!et(e[r])&&et(t[r])?n[r]=st({},t[r]):n[r]=t[r]);return n}function lt(e,t){if(rt(e)&&0!==e.length)for(var n=0;n<e.length;){if(e[n]===t)return 1;n++}}function ut(e){var n,t=function(e){if(!et(e))return{};var n={};return it(e,function(e,t){et(t)||rt(t)?n[e]=JSON.stringify(t):n[e]=t}),n}(e),r=(n={},it(t,function(e,t){n[encodeURIComponent(e)]=encodeURIComponent(t)}),n),o=[];return it(r,function(e,t){o.push(e+"="+t)}),o.join("&")}function ct(e){var t=document.createElement("a");t.href=e;var n=t.pathname||"/";return"/"!==n[0]&&(n="/"+n),{href:t.href,protocol:t.protocol.slice(0,-1),hostname:t.hostname,host:t.host,pathname:n,hash:t.hash}}function pt(){if("fetch"in window)try{return new Headers,new Request(""),new Response,1}catch(e){return}}function dt(){return!!et(window)}function ft(){return!!(dt()&&et(window.performance)&&et(window.performance.timing))}function ht(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}function vt(e){if(!e)return"";if(!tt(e.forEach))return"";var r=[];return e.forEach(function(e){if(rt(e)&&e[0]&&!St(e[0])){var t=e[0],n=e[1]||"";r.push(t+": "+n)}}),r.join("\r\n")}function mt(e){var t={},n=ct(e);return t.ax_protocol=n.protocol,t.ax_domain=n.hostname,t.ax_path=n.pathname,t.ax_url=n.href||e,t}function _t(e,t){var n=ct(e),r=ct(t);return n.protocol===r.protocol&&n.host===r.host}function gt(e,t){var n,r;if(!e||!t)return"";var o=e.split(";"),i={};try{for(var a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),s=a.next();!s.done;s=a.next()){var l=s.value.split("="),u=nt(l[0])&&l[0].trim();u&&nt(l[1])&&(i[u]=l[1].trim())}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i[t]||""}function wt(e){return rt(e)&&e.length?function(e){for(var t=[],n=e.length,r=0;r<n;r++){var o=e[r];nt(o)?t.push(o.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):o&&o.source&&t.push(o.source)}return new RegExp(t.join("|"),"i")}(e):null}var yt=function(){return dt()&&window.screen&&window.screen.width&&window.screen.height?window.screen.width+"x"+window.screen.height:"0x0"},bt=function(){var e="unknown",t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return t&&nt(t.effectiveType)?t.effectiveType:e},St=function(e){if(!nt(e))return!1;var t=e;return tt(t.toLowerCase)&&(t=t.toLowerCase()),!!lt(["x-tt-token"],t)};function Et(){var e=function(){for(var e=new Array(16),t=0,n=void 0;t<16;t++)0==(3&t)&&(n=4294967296*Math.random()),e[t]=n>>>((3&t)<<3)&255;return e}();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);var r=0;return[t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]]].join("")}(e)}var Mt=1,Pt=.1,xt=.1,Ht=["/log/sentry/"],Ct=8e3,Rt=4e3,jt="i.snssdk.com",Lt="SLARDAR_WEB_ID",kt=Et(),Tt=Et(),Ot="/log/sentry/v2/api/slardar/main/",At=(Ut.prototype.postEvent=function(e){var t=m(m({},e),this._getCommonParams());Ut.post(this._url,t)},Ut.prototype.getEvent=function(e){var t=ut(m(m({},e),this._getCommonParams())),n=this._url+"?"+t;Ut.get(n)},Ut.post=function(e,t,n){var r,o,i=null!==(r=null==n?void 0:n.success)&&void 0!==r?r:ht,a=null!==(o=null==n?void 0:n.fail)&&void 0!==o?o:ht,s=new XMLHttpRequest;s.open("POST",e,!0),s.setRequestHeader("Content-Type","application/json"),s.send(JSON.stringify(t)),s.onload=function(){try{if(this.responseText){var e=JSON.parse(this.responseText);i(e)}else i()}catch(e){a()}},s.onerror=function(){a()},s.onabort=function(){a()}},Ut.get=function(e,t){var n,r,o,i,a=null!==(n=null==t?void 0:t.success)&&void 0!==n?n:ht,s=null!==(r=null==t?void 0:t.fail)&&void 0!==r?r:ht,l=null!==(o=null==t?void 0:t.getResponse)&&void 0!==o?o:ht,u=null!==(i=null==t?void 0:t.getResponseText)&&void 0!==i?i:ht,c=new XMLHttpRequest;c.open("GET",e),c.send(),c.onload=function(){l(null==this?void 0:this.response),u(null==this?void 0:this.responseText);try{if(this.responseText){var e=JSON.parse(this.responseText);a(e)}else a()}catch(e){s()}},c.onerror=function(){s()},c.onabort=function(){s()}},Ut.prototype._getURL=function(){return"https://"+(this._options.reportDomain||jt)+Ot},Ut.prototype.getURL=function(){return this._url},Ut.prototype._getCommonParams=function(){return{timestamp:Date.now()}},Ut);function Ut(e){this._options=e||{},this._url=this._options.reportURL||this._getURL()}function Dt(e,t,n){if(void 0===n&&(n="0"),1<n.length)throw new TypeError("expect the length of pad to be 1, but got "+e.length);return e.length>=t?e:""+Array.from({length:t-e.length}).fill(n).join("")+e}function qt(e){return e?Math.floor(Math.random()*Math.pow(10,12)).toString(16).substr(0,e):""}var It="00",Ft=4294967295,Bt="x-tt-trace-id",Jt="x-tt-trace-host",Nt="x-tt-logid";function zt(e,t,n){void 0===n&&(n="01");var r=""+Dt((Date.now()%Ft).toString(16),8)+function(e){var t;if("number"==typeof e)t=e;else{var n=e.replace(/-/g,"");if(!/^[0-9]+$/.test(n)){if(18<n.length)return"18"+n.substr(n.length-18);var r=22-n.length-4;return""+Dt(""+n.length,2)+n+qt(r)}t=parseInt(n,10)}var o=t.toString(16),i=22-o.length-4;return""+Dt(""+o.length,2)+o+qt(i)}(e)+Dt(t.toString(16),4);return It+"-"+r+"-"+r.substr(0,16)+"-"+n}var Qt=(Xt.prototype.setup=function(e){tt(XMLHttpRequest)&&(this._callback=e,this._start())},Xt.prototype._hookXMLHttpRequestOnreadystatechange=function(s){var l=this.onreadystatechange,u=this;this.onreadystatechange=function(){for(var e,t,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(4===this.readyState){var i={ev_type:"ajax",ax_status:(this.status||0).toString(),ax_type:u._method,ax_request_header:vt(u._requestHeaders||[]),ax_domain:"",ax_duration:0,ax_path:"",ax_protocol:"",ax_response_header:"",ax_size:0,ax_url:""};if("function"==typeof this.getAllResponseHeaders&&(i.ax_response_header=function(e){if(e&&tt(e.split)){var t=e.split("\r\n"),r=[];return it(t,function(e,t){if(t&&tt(t.split)){var n=t.split(": ");r.push([n[0],n[1]])}}),vt(r)}return e}(this.getAllResponseHeaders())),s.checkAddTrace(u._url)){var a=null!==(e=s.traceId)&&void 0!==e?e:this.getResponseHeader(Bt);a&&(i.trace_id=a,i.trace_host=null!==(t=this.getResponseHeader(Jt))&&void 0!==t?t:void 0,i.log_id=null!==(n=this.getResponseHeader(Nt))&&void 0!==n?n:void 0)}i.ax_duration=Date.now()-u._start,200===this.status&&(i.ax_size=function(e){var t=0;if(""===e.responseType||"text"===e.responseType)t=Wt(e.responseText);else if(e.response)t=Wt(e.response);else try{t=Wt(e.responseText)}catch(e){t=0}return t}(this)),i=m(m({},i),mt(u._url)),tt(s._callback)&&s._callback({name:s.name,type:"get",event:i})}if(l)return l.apply(this,r)}},Xt);function Xt(e){var v=this;this.instance=e,this.name="AjaxMonitor",this.traceId=null,this._start=function(){v._hookXMLHttpRequestOpen(),v._hookXMLHttpRequestSend(),v._hookXMLHttpRequestSetRequestHeader()},this._hookXMLHttpRequestSetRequestHeader=function(){var n=XMLHttpRequest.prototype.setRequestHeader||ht;XMLHttpRequest.prototype.setRequestHeader=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._requestHeaders=this._requestHeaders||[],this._requestHeaders.push(e),n.apply(this,e)}},this._hookXMLHttpRequestOpen=function(){var o=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],r=e[1];return this._url=r&&r.split("?")[0]||"",this._method=n&&n.toLowerCase()||"",o.apply(this,e)}},this._hookXMLHttpRequestSend=function(){var u=v,c=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){for(var e,t,n,r,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(u.checkAddTrace(this._url)){var a=null!==(r=null===(n=null===(t=null===(e=null==u?void 0:u.instance)||void 0===e?void 0:e.shared)||void 0===t?void 0:t.config)||void 0===n?void 0:n.commonParams)&&void 0!==r?r:{},s=a.bid,l=a.slardar_web_id;u.traceId=zt(l,s),this.setRequestHeader(Bt,u.traceId)}return u._hookXMLHttpRequestOnreadystatechange.call(this,u),this._start=Date.now(),c.apply(this,o)}},this.checkAddTrace=function(e){var t,n,r,o,i,a,s,l,u,c=null!==(o=null===(r=null===(n=null===(t=null==v?void 0:v.instance)||void 0===t?void 0:t.shared)||void 0===n?void 0:n.config)||void 0===r?void 0:r.commonParams)&&void 0!==o?o:{},p=c.bid,d=c.slardar_web_id,f=(null!==(u=null===(l=null===(s=null===(a=null===(i=null==v?void 0:v.instance)||void 0===i?void 0:i.shared)||void 0===a?void 0:a.config)||void 0===s?void 0:s.monitors)||void 0===l?void 0:l.AjaxMonitor)&&void 0!==u?u:{}).sampleHitTrace,h=_t(location.href,e);return!!(p&&d&&f&&h)}}function Wt(e){var t="[object String]"===Object.prototype.toString.call(e);return e?t?e.length:ArrayBuffer&&e instanceof ArrayBuffer?e.byteLength:window.Blob&&e instanceof Blob?e.size:e.length?e.length:0:0}var Vt=function(e){var v=this;this.instance=e,this.name="FetchMonitor",this.setup=function(e){pt()&&(v._callback=e,v._start())},this._start=function(){pt()&&v._hookFetch()},this.checkAddTrace=function(e){var t,n,r,o,i,a,s,l,u,c=null!==(o=null===(r=null===(n=null===(t=null==v?void 0:v.instance)||void 0===t?void 0:t.shared)||void 0===n?void 0:n.config)||void 0===r?void 0:r.commonParams)&&void 0!==o?o:{},p=c.bid,d=c.slardar_web_id,f=(null!==(u=null===(l=null===(s=null===(a=null===(i=null==v?void 0:v.instance)||void 0===i?void 0:i.shared)||void 0===a?void 0:a.config)||void 0===s?void 0:s.monitors)||void 0===l?void 0:l.AjaxMonitor)&&void 0!==u?u:{}).sampleHitTrace,h=_t(location.href,e);return!!(p&&d&&f&&h)},this._hookFetch=function(){var f=v,h=window.fetch;window.fetch=function(e,o){var t,n,r,i;void 0===o&&(o={});var a=null!==(i=null===(r=null===(n=null===(t=null==v?void 0:v.instance)||void 0===t?void 0:t.shared)||void 0===n?void 0:n.config)||void 0===r?void 0:r.commonParams)&&void 0!==i?i:{},s=a.bid,l=a.slardar_web_id,u=Date.now(),c={ev_type:"ajax"},p=v._getFetchUrl(e);try{o.headers=new Headers(o.headers),f.checkAddTrace(p)&&(c.trace_id=zt(s,l),o.headers.append(Bt,c.trace_id))}catch(e){}var d=v._getFetchMethod(e);return c.ax_type=(o.method||d).toLowerCase(),c=m(m({},c),mt(p)),h(e,o).then(function(e){var t,n,r;return c.ax_status=(e.status||0).toString(),c.ax_duration=Date.now()-u,c.ax_response_header=f._getAllHeaders(e.headers),c.ax_request_header=f._getAllHeaders(o.headers),e.headers&&tt(e.headers.has)?(e.headers.has("content-length")?c.ax_size=Number(e.headers.get("content-length"))||0:c.ax_size=0,f.checkAddTrace(p)&&(e.headers.has(Jt)&&(c.trace_host=null!==(t=e.headers.get(Jt))&&void 0!==t?t:void 0),e.headers.has(Bt)&&(c.trace_id=null!==(n=e.headers.get(Bt))&&void 0!==n?n:void 0),e.headers.has(Nt)&&(c.log_id=null!==(r=e.headers.get(Nt))&&void 0!==r?r:void 0))):c.ax_size=0,tt(f._callback)&&f._callback({name:f.name,type:"get",event:c}),e},function(e){return c.ax_status="0",c.ax_size=0,c.ax_duration=Date.now()-u,tt(f._callback)&&f._callback({name:f.name,type:"get",event:c}),Promise.reject(e)})}},this._getFetchUrl=function(e){var t="";return t=nt(t=e instanceof Request?e.url:e)?t.split("?")[0]:t},this._getFetchMethod=function(e){var t="get";return e instanceof Request&&(t=e.method),t},this._getAllHeaders=function(e){if(!e||"function"!=typeof e.forEach)return"";var n=[];return e.forEach(function(e,t){n.push([t,e])}),vt(n)}},Gt=function(){var u=this;this.name="FMPMonitor",this.setup=function(e){if(dt()){if(!dt()||"function"!=typeof window.MutationObserver)return null;u._callback=tt(e)?e:function(){},u._startTime=Date.now(),u._list=[],u._observer=new MutationObserver(u._count),tt(u._observer.observe)&&u._observer.observe(document,{childList:!0,subtree:!0})}},this._count=function(){var e=Date.now()-u._startTime,t=document.querySelector("body");t?u._list.push({score:u._score(t,1,!1),time:e}):u._list.push({score:0,time:e})},this._score=function(e,t,n){var r=0,o=e.tagName;if("SCRIPT"!==o&&"STYLE"!==o&&"META"!==o&&"HEAD"!==o){var i=e.children?e.children.length:0;if(0<i)for(var a=e.children,s=i-1;0<=s;s--)r+=u._score(a[s],t+1,0<r);if(r<=0&&!n){if(!e.getBoundingClientRect||!tt(e.getBoundingClientRect))return 0;var l=e.getBoundingClientRect();if(!l)return 0;if(l.top>window.innerHeight)return 0;if(l.height<=0)return 0}r+=1+.5*t}return r},this.disconnect=function(){var e,t;null!==(t=null===(e=u._observer)||void 0===e?void 0:e.disconnect)&&void 0!==t&&t.call(e)},this._getFmp=function(){if(!u._observer)return 0;if(u.disconnect(),!u._list.length)return 0;for(var e={time:u._list[0].time,rate:0},t=1;t<u._list.length;t++)if(u._list[t].time>=u._list[t-1].time){var n=u._list[t].score-u._list[t-1].score;e.rate<n&&(e={time:u._list[t].time,rate:n})}return e.time},this._getTimeGap=function(){return u._startTime-performance.timing.navigationStart},this._formatEvent=function(e){return{name:u.name,type:"post",event:{ev_type:"fmp",fmp:e}}},this.getLoadFmp=function(){var e=u._getFmp(),t=e?u._getTimeGap()+e:0,n=u._formatEvent(t);return u._callback(n),n},this.getFmp=function(){var e=u._getFmp(),t=u._formatEvent(e);return u._callback(t),t},this._observer=null,this._startTime=Date.now(),this._list=[],this._callback=function(){}},$t=Object.prototype.hasOwnProperty,Yt="~";function Kt(){}function Zt(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function en(e,t,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var i=new Zt(n,r||e,o),a=Yt?Yt+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],i]:e._events[a].push(i):(e._events[a]=i,e._eventsCount++),e}function tn(e,t){0==--e._eventsCount?e._events=new Kt:delete e._events[t]}function nn(){this._events=new Kt,this._eventsCount=0}Object.create&&(Kt.prototype=Object.create(null),(new Kt).__proto__||(Yt=!1)),nn.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)$t.call(e,t)&&n.push(Yt?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},nn.prototype.listeners=function(e){var t=Yt?Yt+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,i=new Array(o);r<o;r++)i[r]=n[r].fn;return i},nn.prototype.listenerCount=function(e){var t=Yt?Yt+e:e,n=this._events[t];return n?n.fn?1:n.length:0},nn.prototype.emit=function(e,t,n,r,o,i){var a=Yt?Yt+e:e;if(!this._events[a])return!1;var s,l,u=this._events[a],c=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,o),!0;case 6:return u.fn.call(u.context,t,n,r,o,i),!0}for(l=1,s=new Array(c-1);l<c;l++)s[l-1]=arguments[l];u.fn.apply(u.context,s)}else{var p,d=u.length;for(l=0;l<d;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),c){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,r);break;default:if(!s)for(p=1,s=new Array(c-1);p<c;p++)s[p-1]=arguments[p];u[l].fn.apply(u[l].context,s)}}return!0},nn.prototype.on=function(e,t,n){return en(this,e,t,n,!1)},nn.prototype.once=function(e,t,n){return en(this,e,t,n,!0)},nn.prototype.removeListener=function(e,t,n,r){var o=Yt?Yt+e:e;if(!this._events[o])return this;if(!t)return tn(this,o),this;var i=this._events[o];if(i.fn)i.fn!==t||r&&!i.once||n&&i.context!==n||tn(this,o);else{for(var a=0,s=[],l=i.length;a<l;a++)(i[a].fn!==t||r&&!i[a].once||n&&i[a].context!==n)&&s.push(i[a]);s.length?this._events[o]=1===s.length?s[0]:s:tn(this,o)}return this},nn.prototype.removeAllListeners=function(e){var t;return e?(t=Yt?Yt+e:e,this._events[t]&&tn(this,t)):(this._events=new Kt,this._eventsCount=0),this},nn.prototype.off=nn.prototype.removeListener,nn.prototype.addListener=nn.prototype.on,nn.prefixed=Yt;var rn=new(nn.EventEmitter=nn);function on(e){if(e&&nt(e)&&dt()&&et(document)&&tt(document.createElement)){var t=document.createElement("script"),n=document.head;et(t)&&et(n)&&(t.src=e,t.async=!0,t.crossOrigin="anonymous",tt(n.appendChild)&&n.appendChild(t))}}var an,sn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},ln=function(){var i=this;this.name="PathMonitor",this.setup=function(e){dt()&&(i._callback=e,i._start())},this._start=function(){i._monitorHashChange(),dt()&&et(window.history)&&tt(window.history.pushState)&&tt(window.history.replaceState)&&(i._monitorPushState(),i._monitorReplaceState())},this._monitorHashChange=function(){window.addEventListener("hashchange",function(){var e=i._parseHash(location.hash);e&&i._pathChangeHandler(i._getPath(e),"hash")})},this._monitorPushState=function(){var n=i,r=window.history.pushState;r&&(window.history.pushState=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n._handleHistoryStateChange.apply(n,f(e)),r.apply(this,e)})},this._monitorReplaceState=function(){var n=i,r=window.history.replaceState;r&&(window.history.replaceState=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n._handleHistoryStateChange.apply(n,f(e)),r.apply(this,e)})},this._pathChangeHandler=function(e,t){nt(e)&&tt(i._callback)&&i._callback({name:i.name,type:"get",event:{ev_type:"pageview",path:e,type:t}})},this._handleHistoryStateChange=function(e,t,n){var r=i._parseURL(n),o=i._parseURL(location.href);r&&o&&(r.pathname===o.pathname?r.hash!==o.hash&&i._pathChangeHandler(i._getPath(o.hash),"hash"):i._pathChangeHandler(i._getPath(r.pathname),"pathname"))},this._parseURL=function(e){if(!e)return null;if("string"!=typeof e)return null;if(e.match(/^\/[^\/]/))return new URL(location.protocol+"//"+location.host+e);try{return new URL(e)}catch(e){return null}},this._parseHash=function(e){return e&&"string"==typeof e?e.replace(/^#/,""):""},this._getPath=function(e){var t=e&&"string"==typeof e?e.replace(/^(https?:)?\/\//,"").replace(/\?.*$/,""):"";return t=i._parseHash(t)}},un=(e(cn,an=Ke),cn.prototype._send=function(e){var t=this,n=this._buildParams(e);this._reportQueue.push(n),this._reportQueue.length>=this._batchReportLength&&this._uploadQueue(),this._batchReportTimeout&&clearTimeout(this._batchReportTimeout),this._batchReportTimeout=setTimeout(function(){t._uploadQueue()},this._batchReportWait)},cn.prototype._uploadQueue=function(){var n=[];if(rt(this._reportQueue)&&this._reportQueue.length){it(this._reportQueue,function(e,t){t&&n.push(t)});var e={ev_type:"batch",list:n};this._reportQueue=[],this._request({event:e,type:"post"})}},cn.prototype._request=function(e){return e},cn.prototype._buildParams=function(e){return e},cn);function cn(e){var t=an.call(this,e)||this;return t._reportQueue=[],t._batchReportLength=e.maxBatchReportLength||10,t._batchReportWait=e.batchReportWait||1e3,t._batchReportTimeout=null,t}function pn(e){return Math.random()<Number(e)}var dn,fn=(e(hn,dn=un),hn.prototype._onClose=function(){var e=this;tt(window.addEventListener)&&(window.addEventListener("unload",this._uploadQueue),window.addEventListener("beforeunload",this._uploadQueue),window.addEventListener("pagehide",this._uploadQueue)),tt(document.addEventListener)&&document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e._uploadQueue()})},hn.prototype.uploadQueue=function(){this._uploadQueue()},hn.prototype.setupTransport=function(){var e=new At({reportURL:this._getReportURL()});dn.prototype.setupTransport.call(this,e)},hn.prototype._getReportURL=function(){return this._reportURL||this._getBatchReportURL()},hn.prototype.getSingleReportURL=function(){return"https://"+(this._options.commonParams.report_domain||jt)+Ot},hn.prototype._getBatchReportURL=function(){return"https://"+(this._options.commonParams.report_domain||jt)+"/log/sentry/v2/api/slardar/batch/"},hn.prototype._buildParams=function(e){var t=e.event||{};return t=m(m(m({},t),this._options.commonParams||{}),t),t=this._normalizeEvent(t),this._options.custom&&tt(this._options.custom.beforeSend)&&(t=this._options.custom.beforeSend(t||{})),t},hn.prototype._request=function(e){if(e&&e.event){var t=e.type,n=e.event;if("beacon"===this._options.commonParams.report_type&&navigator&&navigator.sendBeacon){var r=JSON.stringify(n);navigator.sendBeacon(this._getReportURL(),r)}else"get"!==t?"post"===t&&this._transport.postEvent(n):this._transport.getEvent(n)}},hn.prototype._sendPageview=function(){tt(this._sendEvent)&&this._sendEvent({name:"PageViewMonitor",type:"get",event:{ev_type:"pageview"}})},hn);function hn(e){var L=dn.call(this,e)||this;return L.sendEvent=function(e){tt(L._sendEvent)&&L._sendEvent(e)},L._shouldSend=function(n){var e,t,r,o,i,a,s,l,u,c,p;if(sn("Check Should Send: ",n),!n||!et(n)||!n.event)return!1;var d=L._options.monitors;if("AjaxMonitor"===n.name||"FetchMonitor"===n.name){var f=wt(Ht||[]);if(f&&f.test(n.event.ax_url))return!1}if(null!==(e=null==d?void 0:d.BaseMonitor)&&void 0!==e&&e.webIDHit)return!0;if(null===(t=null==d?void 0:d.BaseMonitor)||void 0===t||!t.sampleHit)return!1;if("PathMonitor"===n.name){var h=d.PageViewMonitor,v=d.BaseMonitor;return v&&1===v.appTypeSetting.type&&n.event.type===(null===(r=null==v?void 0:v.appTypeSetting)||void 0===r?void 0:r.SPA)?!h||(!(null==h||!h.webIDHit)||!(null==h||!h.sampleHit)):!1}if("PageViewMonitor"===n.name)return null==d||!d.PageViewMonitor||(!(null===(o=null==d?void 0:d.PageViewMonitor)||void 0===o||!o.webIDHit)||!(null===(i=null==d?void 0:d.PageViewMonitor)||void 0===i||!i.sampleHit));if("AjaxMonitor"===n.name||"FetchMonitor"===n.name){var m=null==d?void 0:d.AjaxMonitor;if(!m)return!0;if(null!=m&&m.webIDHit)return!0;if(null==m||!m.sampleHit)return!1;var _=null==m?void 0:m.whitelistUrls;if(rt(_)&&0<_.length){var g=wt((null===(a=null==d?void 0:d.AjaxMonitor)||void 0===a?void 0:a.whitelistUrls)||[]);return g&&g.test(n.event.ax_url)?!0:!1}if((H=wt((null==m?void 0:m.ignore)||[]))&&H.test(n.event.ax_url))return!1;var w=null==m?void 0:m.statusCodeSample;if(w)if(ot(w,n.event.ax_status))return pn(w[n.event.ax_status]);var y=null==m?void 0:m.requestUrlSample;if(y){var b=!1,S=!1;if(y.forEach(function(e){if(!b){var t=wt([e.url]);null!=t&&t.test(n.event.ax_url)&&(b=!0,S=pn(e.sampleRate))}}),b)return S}return!0}if("PerformanceMonitor"===n.name){var E=null==d?void 0:d.PerformanceMonitor;return E?!(null==E||!E.webIDHit)||!(null==E||!E.sampleHit):!0}if("EmitMonitor"===n.name){var M=null==d?void 0:d.FlexibleMonitor;if(!M)return!0;if(null!=M&&M.webIDHit)return!0;if(null==M||!M.sampleHit)return!1;var P=null==M?void 0:M.eventNameHit;if(P){var x=null===(u=null===(l=null===(s=n.event)||void 0===s?void 0:s.flexible_data_list)||void 0===l?void 0:l[0])||void 0===u?void 0:u.event_name;if(P&&ot(P,x))return pn(P[x])}return!0}if("StaticErrorMonitor"===n.name){var H,C=null==d?void 0:d.StaticErrorMonitor;return C?!(null==C||!C.webIDHit)||!(null==C||!C.sampleHit)&&(!(H=wt((null==C?void 0:C.ignore)||[]))||!H.test(n.event.st_src)):!0}if("HijackMonitor"===n.name){var R=null===(c=L._options.monitors)||void 0===c?void 0:c.HijackMonitor;return R?!(null==R||!R.webIDHit)||!(null==R||!R.sampleHit):!0}if("JSErrorMonitor"!==n.name)return sn("Should Send: ",n),!0;var j=null===(p=L._options.monitors)||void 0===p?void 0:p.JSErrorMonitor;return!j||(!(null==j||!j.webIDHit)||!!j.sampleHit)},L._modifyEvent=function(n){if(sn("Client Modify Event: ",n),!n||!et(n))return{};if("PerformanceMonitor"===n.name){var e=L._options.monitors.PerformanceMonitor;if(!e)return n;if(!ft())return{};var t=void 0;if(n.event.isAsync)t=n.event.load>e.spaSlowSessionTime;else{var r=window.performance.timing;t=r.loadEventEnd-r.navigationStart>e.slowSessionTime}if(n.event.resources&&rt(n.event.resources)){var o=wt(L._options.monitors.PerformanceMonitor.geckoUrls||[]);it(n.event.resources,function(e,t){et(n.event.resources[e])&&tt(n.event.resources[e].toJSON)&&(n.event.resources[e]=n.event.resources[e].toJSON(),n.event.resources[e].is_gecko=o&&o.test(t.name||"")?"1":"0")})}return e.webIDHitStaticResource||e.sampleHitStaticResource?n.event.upload_reason="sample":t?n.event.upload_reason="slow_session":(delete n.event.resources,n.event.has_resource=0),n}if("PathMonitor"!==n.name)return n;var i=L._options.monitors.BaseMonitor;return 1===i.appTypeSetting.type&&i.appTypeSetting.SPA===n.event.type&&(L.updateConfig({commonParams:{pid:n.event.path}}),delete n.event.type,delete n.event.path),{}},L._normalizeOptions=function(e){return at({},L._options,e)},L._normalizeEvent=function(e){var t=m(m({},e),{url:window.location.href});return et(e.context)&&(t.context=JSON.stringify(e.context)),t||{}},L.updateConfig=function(e){var t=L._options.commonParams.pid;L._options=L._normalizeOptions(e),e.commonParams.pid!==t&&L._sendPageview()},L.sendPageview=function(){L._sendPageview()},L._reportURL=e.reportURL||"",L._options=e,L._onClose(),L}function vn(n){void 0===n&&(n={});var r=at({},n.commonParams||{});if(!et(n))return r;var o=["bid","context","pid","slardar_web_id","slardar_session_id","performanceAuto","report_type","hookPath","hookXHR","hookFetch","enableSizeStats","enableFMP","enablePerformance","enableStaticError","enableCatchJSError","enableCrash","enableMemoryRecord","enableFPSJankTimesMonitor","enableBreadcrumb"];return it(n,function(e,t){lt(o,e)&&(r[e]=t)}),it({cookieid:"slardar_web_id",sampleRate:"sample_rate",reportDomain:"report_domain",domain:"report_domain",sample_rate:"sample_rate"},function(e,t){ot(n,e)&&(r[t]=n[e])}),r.domestic=r.report_domain===jt,r.slardar_web_id&&(r.slardar_web_id=r.slardar_web_id.toString()),r}var mn="/toutiao/slardar/sdk/plugins/browser",_n="https://"+"s3a.pstatp.com"+mn,gn="https://"+"s16.hypstarcdn.com"+mn,wn=_n+"/sentry.3.0.11.js",yn=gn+"/sentry.3.0.11.js",bn=_n+"/behavior.3.0.11.js",Sn=_n+"/monitors.3.0.11.js",En=gn+"/monitors.3.0.11.js";function Mn(e){var t=[];if(e)try{t=JSON.parse(e)}catch(e){t=[]}return t}var Pn=function(e,t){var n=!1;return e&&e.forEach(function(e){!0!==n&&(e.condition.is_default||"slardar_web_id"===e.condition.field&&lt(e.condition.values,t.slardar_web_id)&&(n=!0))}),n},xn=function(e){var t=!1;return!e||(e.forEach(function(e){e.condition.field&&t||(t=pn(e.value))}),t)},Hn=function(e){var n=[];return e.forEach(function(e){if(e.value){var t=Mn(e.value);n.push.apply(n,f(t))}}),n},Cn=function(e){var t=[];return e.forEach(function(e){"pid"===e.condition.field.toLowerCase()&&"like"===e.condition.op.toLowerCase()&&e.value?t.push({pids:Mn(e.value),value:parseInt(e.value,10),isDefault:!1}):e.condition.is_default&&t.push({pids:[],value:parseInt(e.value,10),isDefault:!0})}),t},Rn=function(e,n){var r={},o=[];return e.forEach(function(t){t.condition.field===n&&t.condition.values&&t.condition.values.forEach(function(e){ot(r,e)||(r[e]=Number(t.value)||0,o.push({url:e,sampleRate:r[e]}))})}),{flatten:r,list:o}};var jn,Ln,kn,Tn,On,An,Un,Dn=function(){var e="";return document&&document.cookie&&(e=gt(document.cookie,Lt)),e},qn=function(){var d=this;this.version="3.0.11",this._setBaseParams=function(){d.baseParams.bid=d.shared.config.commonParams.bid||"",d.baseParams.pid=d.shared.config.commonParams.pid||""},this.instance=function(){for(var e,t,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if("config"!==r[0]){if(d._client)if("sendCustomCountLog"!==r[0]&&"sendCustomTimeLog"!==r[0]&&"emit"!==r[0]&&"send"!==r[0]){if("precollect"===r[0]){var i=d.shared.collect,a=d._baseClientConfig.commonParams;if("sentry"===r[1])return void i.sentry.push({event:r[2],params:a});if("error"===r[1]){if(!r[2]||!r[2][0])return;var s=r[2][0]||{};"error"===s.type&&((null==i?void 0:i.staticError).push({event:s,params:a}),(null==i?void 0:i.jsError).push({event:s,params:a}))}return"emit"===r[1]?void i.emit.push({event:r[2],params:a}):void 0}if("Sentry"!==r[0])"report"===r[0]&&d._client.uploadQueue(),"performanceSend"===r[0]&&d.shared.monitors&&d.shared.monitors.PerformanceMonitor&&d.shared.monitors.PerformanceMonitor.send(),"performanceInit"===r[0]&&d.shared.monitors&&d.shared.monitors.PerformanceMonitor&&d.shared.monitors.PerformanceMonitor.initAsync();else{var l=r[1];if(tt(l)){var u=null===(n=null===(t=d.shared.monitors)||void 0===t?void 0:t.JSErrorMonitor)||void 0===n?void 0:n.getSentry();u?l(u):d.instance("precollect","sentry",r[1])}}}else d.shared.monitors.EmitMonitor?(e=d.shared.monitors.EmitMonitor).handOut.apply(e,f(r)):d.instance("precollect","emit",r)}else{var c=r[1];d._configSetting=m(m({},d._configSetting||{}),c||{}),d._configSetting&&d._configSetting.onlyUseLocalSetting&&(d._serverSetting={});var p=d._normalizeSetting(c);d._client?d._client.updateConfig(p):d._init(p)}},this._collectSentryEvent=function(t){d.shared.monitors&&!d.shared.monitors.JSErrorMonitor&&(t.error?d.instance("Sentry",function(e){e.captureException(t.error)}):t.message&&d.instance("Sentry",function(e){e.captureMessage(t.message)}))},this._init=function(e){d._client=new fn(e),d._client.updateConfig(e),d._client.setupTransport(),d.shared.config.commonParams.reportURLSingle=d._client.getSingleReportURL();var t=d._setMonitors();d._setupMonitors(t),d.shared.instance&&rt(d.shared.instance)&&d.shared.instance.push(e.commonParams.bid),d._getServerSetting(e.commonParams.bid)},this._handlePrecollect=function(){tt(window.removeEventListener)&&window.Slardar&&window.Slardar.globalPreCollectError&&tt(window.Slardar.globalPreCollectError)&&window.removeEventListener("error",window.Slardar.globalPreCollectError,!0),tt(window.addEventListener)&&window.addEventListener("error",function(e){d._collectSentryEvent(e)})},this._getServerSetting=function(e){var t=d._serverSetting;if(t){var n=d._normalizeServerSetting(t);d._initServerSetting(n)}else{var r="https://"+(d._baseClientConfig.commonParams.report_domain||jt)+"/slardar/sdk_setting?bid="+e;At.get(r,{success:function(e){try{var t=d._normalizeServerSetting(e.data);d._initServerSetting(t)}catch(e){d._initServerSetting(d._baseClientConfig)}},fail:function(){d._initServerSetting(d._baseClientConfig)}})}},this._setMonitors=function(){var e=[],t=d._baseClientConfig.commonParams;return t.hookPath&&e.push(new ln),t.hookXHR&&e.push(new Qt(d)),t.hookFetch&&e.push(new Vt(d)),t.enableFMP&&e.push(new Gt),d.shared&&d.shared.monitors&&it(e,function(e,t){d.shared.monitors[t.name]=t}),e},this._setupMonitors=function(e){d._client&&d._client.sendEvent&&e.forEach(function(e){var t;e.addon&&e.addon(d.shared),"FMPMonitor"===e.name?d._baseClientConfig.commonParams.enableFMP&&e.setup(ht):e.setup(null===(t=d._client)||void 0===t?void 0:t.sendEvent)})},this._initServerSetting=function(e){d._client.updateConfig(e),d._client.sendPageview(),d.shared.transport=d._client._transport,d.shared.sendEvent=d._client.sendEvent,d._setCookie(e.commonParams.slardar_web_id),d._loadMonitors(),d._baseClientConfig.commonParams.enableCatchJSError&&d._loadSentry(),d._handlePrecollect()},this._loadSentry=function(){on(d._baseClientConfig.commonParams.domestic?wn:yn)},this._loadMonitors=function(){on(d._baseClientConfig.commonParams.domestic?Sn:En)},this._setCookie=function(e){e&&(document.cookie=Lt+"="+e+";max-age=7776000;domain="+location.hostname+";path=/")},this._normalizeSetting=function(e){var t={commonParams:d._getClientCommonParams(e),plugins:d._getClientPluginsSetting(e),monitors:d._getClientMonitorsSetting(e),custom:d._getClientCustom(e)},n={commonParams:d._getClientCommonParams(d._configSetting),plugins:d._getClientPluginsSetting(d._configSetting),monitors:d._getClientMonitorsSetting(d._configSetting),custom:d._getClientCustom(d._configSetting)},r=at(d._baseClientConfig,t,n);return r.commonParams.domestic=r.commonParams.report_domain===jt,d.shared.config=r,d._setBaseParams(),d._baseClientConfig=r},this._getClientCommonParams=function(e){return vn(e)},this._getClientCustom=function(e){var t={};return e.beforeSend&&tt(e.beforeSend)&&(t.beforeSend=e.beforeSend),t},this._getClientMonitorsSetting=function(e){return function(e){var t,n,r,o=at({PageViewMonitor:{},JSErrorMonitor:{},AjaxMonitor:{},PerformanceMonitor:{},FlexibleMonitor:{},StaticErrorMonitor:{},HijackMonitor:{},BaseMonitor:{appTypeSetting:{}}},e.monitors);e.ajaxWhitelistUrls&&rt(e.ajaxWhitelistUrls)&&(o.AjaxMonitor.whitelistUrls=(o.AjaxMonitor.whitelistUrls||[]).concat(e.ajaxWhitelistUrls)),e.ignoreAjax&&rt(e.ignoreAjax)&&(o.AjaxMonitor.ignore=(o.AjaxMonitor.ignore||[]).concat(e.ignoreAjax)),ot(e,"geckoUrls")&&(o.PerformanceMonitor.geckoUrls=e.geckoUrls),e.ignoreStatic&&rt(e.ignoreStatic)&&(o.StaticErrorMonitor.ignore=(o.StaticErrorMonitor.ignore||[]).concat(e.ignoreStatic)),null!==(t=e.plugins)&&void 0!==t&&t.sentry&&(o.JSErrorMonitor=m(m({},o.JSErrorMonitor||{}),null===(n=e.plugins)||void 0===n?void 0:n.sentry)),e.errorRelease&&(o.JSErrorMonitor.release=e.errorRelease),e.ignoreErrors&&rt(e.ignoreErrors)&&(o.JSErrorMonitor.ignoreErrors=e.ignoreErrors),e.errorBlacklistUrls&&rt(e.errorBlacklistUrls)&&(o.JSErrorMonitor.blacklistUrls=e.errorBlacklistUrls),e.errorWhitelistUrls&&rt(e.errorWhitelistUrls)&&(o.JSErrorMonitor.whitelistUrls=e.errorWhitelistUrls),ot(e,"sampleRate")&&(o.BaseMonitor.sampleHit=pn(e.sampleRate));var i=e.plugins;if(i&&et(i)){if(ot(i,"spa")){var a=i.spa;ot(a,"enable")&&(o.BaseMonitor.appTypeSetting.type=Number(a.enable)),ot(a,"type")&&(o.BaseMonitor.appTypeSetting.SPA=a.type)}if(i.render){var s=null===(r=e.plugins)||void 0===r?void 0:r.render;s&&et(s)&&ot(s,"enable")&&(o.BaseMonitor.appTypeSetting.renderType=[{pids:[],value:s.enable,isDefault:!0}])}}return o}(e)},this._getClientPluginsSetting=function(e){return void 0===(t=e)&&(t={}),at({sentry:{},behavior:{},spa:{},render:{}},t.plugins||{});var t},this._normalizeServerSetting=function(e){if(sn("Server Setting:",e),!ot(e,"setting")){var t={cookieid:e.cookieid,reportDomain:e.reportDomain,bid:e.bid,plugins:e.plugins};return d._normalizeSetting(t)}var n=vn(e),r={slardar_web_id:d._baseClientConfig.commonParams.slardar_web_id},o={commonParams:n,monitors:function(e,t,n){var r,o,i,a,s,l,u,c,p,d;sn("Server Setting: ",e);var f=at({PageViewMonitor:{},JSErrorMonitor:{},AjaxMonitor:{},PerformanceMonitor:{},FlexibleMonitor:{},StaticErrorMonitor:{},HijackMonitor:{},BaseMonitor:{}},t),h=e.setting;if(null!==(o=null===(r=h.page_view)||void 0===r?void 0:r.enable_rate)&&void 0!==o&&o.length&&(f.PageViewMonitor.webIDHit=Pn(null===(i=h.page_view)||void 0===i?void 0:i.enable_rate,n),f.PageViewMonitor.sampleHit=xn(null===(a=h.page_view)||void 0===a?void 0:a.enable_rate)),h.jserr&&(null!==(l=null===(s=h.jserr)||void 0===s?void 0:s.enable_rate)&&void 0!==l&&l.length&&(f.JSErrorMonitor.webIDHit=Pn(h.jserr.enable_rate,n),f.JSErrorMonitor.sampleHit=xn(h.jserr.enable_rate)),h.jserr.ignore_errors&&(f.JSErrorMonitor.ignoreErrors=Hn(h.jserr.ignore_errors)),h.jserr.blacklist_urls&&(f.JSErrorMonitor.blacklistUrls=Hn(h.jserr.blacklist_urls)),h.jserr.whitelist_urls&&(f.JSErrorMonitor.whitelistUrls=Hn(h.jserr.whitelist_urls))),h.ajax&&(h.ajax.enable_rate&&(f.AjaxMonitor.webIDHit=Pn(h.ajax.enable_rate,n),f.AjaxMonitor.sampleHit=xn(h.ajax.enable_rate)),h.ajax.request_sample_rate&&(f.AjaxMonitor.statusCodeSample=Rn(h.ajax.request_sample_rate,"status_code").flatten,f.AjaxMonitor.requestUrlSample=Rn(h.ajax.request_sample_rate,"request_url").list),h.ajax.trace_rate&&(f.AjaxMonitor.sampleHitTrace=xn(h.ajax.trace_rate))),null!==(u=h.static_resource)&&void 0!==u&&u.enable_rate&&(f.PerformanceMonitor.webIDHitStaticResource=Pn(h.static_resource.enable_rate,n),f.PerformanceMonitor.sampleHitStaticResource=xn(h.static_resource.enable_rate)),null!==(c=h.performance)&&void 0!==c&&c.enable_rate&&(f.PerformanceMonitor.webIDHit=Pn(null===(p=h.performance)||void 0===p?void 0:p.enable_rate,n),f.PerformanceMonitor.sampleHit=xn(null===(d=h.performance)||void 0===d?void 0:d.enable_rate)),h.flexible&&(h.flexible.enable_rate&&(f.FlexibleMonitor.webIDHit=Pn(h.flexible.enable_rate,n),f.FlexibleMonitor.sampleHit=xn(h.flexible.enable_rate)),h.flexible.event_name_sample_rate&&(f.FlexibleMonitor.eventNameHit=Rn(h.flexible.event_name_sample_rate,"event_name").flatten,f.FlexibleMonitor.eventNameSampleHit=xn(h.flexible.event_name_sample_rate))),h.static_err&&h.static_err.enable_rate&&(f.StaticErrorMonitor.webIDHit=Pn(h.static_err.enable_rate,n),f.StaticErrorMonitor.sampleHit=xn(h.static_err.enable_rate)),h.general){var v=h.general.app_type_setting;if(v){var m={type:Number(v.app_type[0].value),SPA:v.app_type_spa[0].value,renderType:Cn(v.app_render_type)};f.BaseMonitor.appTypeSetting=m}}var _=null==e?void 0:e.whitelist;return sn("Normalize whitelist:",_),rt(_)&&_.forEach(function(e){sn("Normalize whitelist each:  "+e+"  "+n.slardar_web_id),n.slardar_web_id===e&&(f.BaseMonitor.webIDHit=!0)}),sn("Get Monitors From Server Setting: ",f),f}(e,d._baseClientConfig.monitors,r)};return d._normalizeSetting(o)},this._baseClientConfig={commonParams:{version:this.version,hostname:window.location.hostname,protocol:window.location.protocol.slice(0,-1),url:window.location.href,slardar_session_id:kt,sample_rate:Mt,pid:location.pathname,report_domain:jt,screen_resolution:yt(),network_type:bt(),bid:"",context:{},slardar_web_id:Dn()||Tt,report_type:"beacon",performanceAuto:!0,domestic:!0,reportURLSingle:"",hookPath:!0,hookXHR:!0,hookFetch:!0,enableSizeStats:!0,enableFMP:!0,enablePerformance:!0,enableStaticError:!0,enableCatchJSError:!0,enableCrash:!0,enableMemoryRecord:!0,enableFPSJankTimesMonitor:!0,enableBreadcrumb:!0},monitors:{BaseMonitor:{appTypeSetting:{type:0,SPA:"",renderType:[{pids:[],value:0,isDefault:!0}]},webIDHit:!1,sampleHit:pn(1)},PageViewMonitor:{webIDHit:!1,sampleHit:pn(1)},JSErrorMonitor:{webIDHit:!1,sampleHit:pn(1),webIDHitBehavior:pn(0),sampleHitBehavior:pn(0),ignoreErrors:[],whitelistUrls:[],blacklistUrls:[],download_link:""},AjaxMonitor:{webIDHit:!1,sampleHit:pn(1),sampleHitTrace:pn(0),ignore:Ht,abort:!1,whitelistUrls:[],statusCodeSample:{},requestUrlSample:[]},PerformanceMonitor:{webIDHit:!1,sampleHit:pn(1),webIDHitStaticResource:!1,sampleHitStaticResource:pn(Pt),slowSessionTime:Ct,spaSlowSessionTime:Rt,geckoUrls:[],interval:0,checkPoint:[]},FlexibleMonitor:{webIDHit:!1,sampleHit:pn(1),eventNameHit:{},eventNameSampleHit:pn(1)},StaticErrorMonitor:{webIDHit:!1,sampleHit:pn(1),ignore:Ht},HijackMonitor:{webIDHit:!1,sampleHit:pn(xt)}},plugins:{render:{enable:0},spa:{enable:0,type:""},behavior:{enable:0,slardar_web_ids:[],sample_rate:0,download_link:bn},sentry:{enable:0,behavior_enable:0,behavior_sample_rate:0,behavior_slardar_web_ids:[],download_link:wn}},custom:{beforeSend:function(e){return e}}},this._client=void 0,this._configSetting={},this.shared={config:this._baseClientConfig,transport:this._client?this._client._transport:void 0,emitter:rn,instance:[],collect:{sentry:[],jsError:[],staticError:[],emit:[]},plugins:{},monitors:{},sendEvent:void 0},this.baseParams={bid:this.shared.config.commonParams.bid||"",pid:this.shared.config.commonParams.pid||""},this._serverSetting={"cookieid":"2acd27e9-1e27-44b1-b40c-4189d529caf7","reportDomain":"i.snssdk.com","bid":"toutiao_pc","plugins":{"spa":{"enable":0,"type":""},"behavior":{"enable":0,"slardar_web_ids":[],"sample_rate":0,"download_link":"https://s3a.pstatp.com/toutiao/slardar/sdk/plugins/browser/behavior.3.0.11.js"},"sentry":{"enable":0,"download_link":"https://s3a.pstatp.com/toutiao/slardar/sdk/plugins/browser/sentry.3.0.11.js","behavior_enable":0,"behavior_sample_rate":0,"behavior_slardar_web_ids":[]},"render":{"enable":0}}}},In=ht;if(dt()){var Fn=new qn;(In=Fn.instance).version=Fn.version,In.shared=Fn.shared,In.SlardarBrowser=qn,In._baseParams=Fn.baseParams,null!==(kn=null===(Ln=null===(jn=window.Slardar)||void 0===jn?void 0:jn.shared)||void 0===Ln?void 0:Ln.instance)&&void 0!==kn&&kn.length?In=window.Slardar:(null!==(Tn=window.Slardar)&&void 0!==Tn&&Tn.q&&(In.q=window.Slardar.q),null!==(On=window.Slardar)&&void 0!==On&&On.globalPreCollectError&&(In.globalPreCollectError=window.Slardar.globalPreCollectError),null!==(An=window.Slardar)&&void 0!==An&&An.i&&(In.i=window.Slardar.i),null!==(Un=window.Slardar)&&void 0!==Un&&Un.lt&&(In.lt=window.Slardar.lt),window.Slardar=In)}var Bn=In;if(Bn.shared&&(Bn.shared.installedType="script"),window.Slardar&&window.Slardar.q){var Jn=window.Slardar.q;rt(Jn)&&Jn.forEach(function(e){Bn.apply(void 0,f(e))}),delete window.Slardar.q}if(window.Slardar&&window.Slardar.i){var Nn=window.Slardar.i;rt(Nn)&&Nn.forEach(function(e){var t=zn();if(e.q){var n=e.q;rt(n)&&n.forEach(function(e){t.apply(void 0,f(e))}),delete e.q}e.i=t}),delete window.Slardar.i}function zn(){var e=new qn,t=e.instance;return t.version=e.version,t.shared=e.shared,t}return window.Slardar=Bn,window.Slardar.SlardarBrowser=qn,window.Slardar.createInstance=zn,Bn}();
